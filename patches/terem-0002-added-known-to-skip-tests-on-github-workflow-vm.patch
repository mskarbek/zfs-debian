From cfa9d31c932d2f568ca71b78e6e21480d4441cde Mon Sep 17 00:00:00 2001
From: Andrey Prokopenko <9478806+andrey42@users.noreply.github.com>
Date: Tue, 28 Jan 2020 21:13:44 +0100
Subject: [PATCH] added tests known to fail on github actions vm

---
 tests/test-runner/bin/zts-report.py | 37 +++++++++++++++++++++++++++++
 1 file changed, 37 insertions(+)

diff --git a/tests/test-runner/bin/zts-report.py b/tests/test-runner/bin/zts-report.py
index c5a1a2c3b..444997819 100755
--- a/tests/test-runner/bin/zts-report.py
+++ b/tests/test-runner/bin/zts-report.py
@@ -127,6 +127,9 @@ trim_reason = 'DISKS must support discard (TRIM/UNMAP)'
 #
 na_reason = "N/A on Linux"
 
+# cannot propery execute on Github Actions
+github_actions_vm_skip_reason = 'known to be skipped on Github Actions virtual machines'
+
 summary = {
     'total': float(0),
     'passed': float(0),
@@ -225,6 +228,40 @@ maybe = {
     'userquota/setup': ['SKIP', exec_reason],
     'vdev_zaps/vdev_zaps_004_pos': ['FAIL', '6935'],
     'zvol/zvol_ENOSPC/zvol_ENOSPC_001_pos': ['FAIL', '5848'],
+
+    'fault/auto_offline_001_pos': ['SKIP',github_actions_vm_skip_reason],
+    'fault/auto_online_001_pos': ['SKIP',github_actions_vm_skip_reason],
+    'fault/auto_replace_001_pos': ['SKIP',github_actions_vm_skip_reason],
+    'fault/auto_spare_ashift': ['SKIP',github_actions_vm_skip_reason],
+    'fault/auto_spare_shared': ['SKIP',github_actions_vm_skip_reason],
+
+    'cli_root/zpool_expand/zpool_expand_001_pos': ['SKIP',github_actions_vm_skip_reason],
+    'cli_root/zpool_expand/zpool_expand_003_neg': ['SKIP',github_actions_vm_skip_reason],
+    'cli_root/zpool_expand/zpool_expand_005_pos': ['SKIP',github_actions_vm_skip_reason],
+
+    'cli_root/zpool_reopen/setup': ['SKIP',github_actions_vm_skip_reason],
+    'cli_root/zpool_reopen/zpool_reopen_001_pos': ['SKIP',github_actions_vm_skip_reason],
+    'cli_root/zpool_reopen/zpool_reopen_002_pos': ['SKIP',github_actions_vm_skip_reason],
+    'cli_root/zpool_reopen/zpool_reopen_003_pos': ['SKIP',github_actions_vm_skip_reason],
+    'cli_root/zpool_reopen/zpool_reopen_004_pos': ['SKIP',github_actions_vm_skip_reason],
+    'cli_root/zpool_reopen/zpool_reopen_005_pos': ['SKIP',github_actions_vm_skip_reason],
+    'cli_root/zpool_reopen/zpool_reopen_006_neg': ['SKIP',github_actions_vm_skip_reason],
+    'cli_root/zpool_reopen/zpool_reopen_007_pos': ['SKIP',github_actions_vm_skip_reason],
+
+    'mmp/mmp_active_import': ['SKIP',github_actions_vm_skip_reason],
+    'mmp/mmp_exported_import': ['SKIP',github_actions_vm_skip_reason],
+    'mmp/mmp_hostid': ['SKIP',github_actions_vm_skip_reason],
+    'mmp/mmp_inactive_import': ['SKIP',github_actions_vm_skip_reason],
+    'mmp/mmp_interval': ['SKIP',github_actions_vm_skip_reason],
+    'mmp/mmp_on_off': ['SKIP',github_actions_vm_skip_reason],
+    'mmp/mmp_on_thread': ['SKIP',github_actions_vm_skip_reason],
+    'mmp/mmp_on_uberblocks': ['SKIP',github_actions_vm_skip_reason],
+    'mmp/mmp_on_zdb': ['SKIP',github_actions_vm_skip_reason],
+    'mmp/mmp_reset_interval': ['SKIP',github_actions_vm_skip_reason],
+    'mmp/mmp_write_distribution': ['SKIP',github_actions_vm_skip_reason],
+    'mmp/mmp_write_uberblocks': ['SKIP',github_actions_vm_skip_reason],
+    'mmp/multihost_history': ['SKIP',github_actions_vm_skip_reason],
+    'mmp/setup': ['SKIP',github_actions_vm_skip_reason],
 }
 
 
-- 
2.17.1

